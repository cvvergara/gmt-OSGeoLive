<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    

    <title>grdvolume &mdash; GMT 5.1.2 documentation</title>

<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>


    
    <link rel="stylesheet" href="_static/rtd.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '5.1.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/searchtools.js"></script>
    <script type="text/javascript" src="_static/rtd-sidebar.js"></script>
    <link rel="top" title="GMT 5.1.2 documentation" href="index.html" />
    <link rel="up" title="GR" href="GR.html" />
    <link rel="next" title="I" href="I.html" />
    <link rel="prev" title="grdview" href="grdview.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="I.html" title="I"
             accesskey="N">next</a> </li>
        <li class="right" >
          <a href="grdview.html" title="grdview"
             accesskey="P">previous</a> </li>
  <li><a href="/projects/gmt/wiki/Documentation">Project Home</a>  &raquo;</li>
  
        <li><a href="index.html">GMT 5.1.2 documentation</a> &raquo;</li>

          <li><a href="GR.html" accesskey="U">GR</a> &raquo;</li>
<li class="right">
<form class="search" accept-charset="UTF-8" action="search.html" method="get">
  <div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="✓"></div>
  <label for="q">
    <a class="search" href="search.html" accesskey="s" original-title="">Search:</a>
  </label>
  <input accesskey="f" class="small" id="q" name="q" size="20" type="text">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form></li>
   

      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="grdvolume">
<span id="index-0"></span><h1>grdvolume<a class="headerlink" href="#grdvolume" title="Permalink to this headline">¶</a></h1>
<p>grdvolume - Calculate grid volume and area constrained by a contour</p>
<div class="section" id="synopsis">
<h2>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h2>
<p><strong>grdvolume</strong> <em>grdfile</em> [ <strong>-C</strong><em>cval</em> or <strong>-C</strong><em>low/high/delta</em> or <strong>-Cr</strong><em>low/high</em> ]
[ <strong>-L</strong><em>base</em> ]
[ <strong>-R</strong>[<em>unit</em>]<em>xmin</em>/<em>xmax</em>/<em>ymin</em>/<em>ymax</em>[<strong>r</strong>] ]
[ <strong>-S</strong>[<em>unit</em>] ] [ <strong>-T</strong>[<strong>c</strong>|<strong>h</strong>] ]
[ <strong>-V</strong>[<em>level</em>] ]
[ <strong>-Z</strong><em>fact</em>[/<em>shift</em>] ]
[ <strong>-f</strong>[<strong>i</strong>|<strong>o</strong>]<em>colinfo</em> ]
[ <strong>-o</strong><em>cols</em>[,...] ]</p>
<p><strong>Note:</strong> No space is allowed between the option flag and the associated arguments.</p>
</div>
<div class="section" id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p><strong>grdvolume</strong> reads a 2-D binary grid file and calculates the volume
contained between the surface and the plane specified by the given
contour (or zero if not given) and reports the area, volume, and maximum
mean height (volume/area). Alternatively, specify a range of contours to
be tried and <strong>grdvolume</strong> will determine the volume and area inside the
contour for all contour values. Using <strong>-T</strong>, the contour that produced
the maximum mean height (or maximum curvature of heights vs contour
value) is reported as well. This feature may be used with <strong>grdfilter</strong>
in designing an Optimal Robust Separator [<em>Wessel</em>, 1998].</p>
</div>
<div class="section" id="required-arguments">
<h2>Required Arguments<a class="headerlink" href="#required-arguments" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt><em>grdfile</em></dt>
<dd>The name of the input 2-D binary grid file. (See GRID FILE FORMAT below.)</dd>
</dl>
</div>
<div class="section" id="optional-arguments">
<h2>Optional Arguments<a class="headerlink" href="#optional-arguments" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt><strong>-C</strong><em>cval</em> or <strong>-C</strong><em>low/high/delta</em> or <strong>-Cr</strong><em>low/high</em></dt>
<dd>find area, volume and mean height (volume/area) inside the <em>cval</em>
contour. Alternatively, search using all contours from <em>low</em> to
<em>high</em> in steps of <em>delta</em>. [Default returns area, volume and mean
height of the entire grid]. The area is measured in the plane of the contour.
The <strong>Cr</strong> form on the other hand computes volume between the grid
surface and the plans defined by <em>low</em> and <em>high</em>. Note that this is an
<em>outside</em> volume whilst the other forms compute an <em>inside</em> (bellow the surface)
area volume. Use this form to compute for example the volume of water
between two contours.</dd>
<dt><strong>-L</strong><em>base</em></dt>
<dd>Also add in the volume from the level of the contour down to <em>base</em>
[Default base is contour].</dd>
<dt><strong>-S</strong>[<em>unit</em>]</dt>
<dd>Convert degrees to Flat Earth distances, append a unit from
<strong>e</strong>|<strong>f</strong>|<strong>k</strong>|<strong>M</strong>|<strong>n</strong>|<strong>u</strong>
[Default is Cartesian].</dd>
<dt><strong>-T</strong>[<strong>c</strong>|<strong>h</strong>]</dt>
<dd>Determine the single contour that maximized the average height (=
volume/area). Select <strong>-Tc</strong> to use the maximum curvature of heights
versus contour value rather than the contour with the maximum height
to pick the best contour value (requires <strong>-C</strong>).</dd>
</dl>
<dl class="docutils">
<dt><strong>-R</strong>[<em>unit</em>]<em>xmin</em>/<em>xmax</em>/<em>ymin</em>/<em>ymax</em>[<strong>r</strong>] <a class="reference internal" href="gmt.html#r-full"><em>(more ...)</em></a></dt>
<dd>Specify the region of interest.  </dd>
</dl>
<dl class="docutils">
<dt><strong>-V</strong>[<em>level</em>] <a class="reference internal" href="gmt.html#v-full"><em>(more ...)</em></a></dt>
<dd>Select verbosity level [c].  </dd>
<dt><strong>-Z</strong><em>fact</em>[/<em>shift</em>]</dt>
<dd>Optionally subtract <em>shift</em> before scaling data by <em>fact</em>. [Default
is no scaling]. (Numbers in <strong>-C</strong>, <strong>-L</strong> refer to values after
this scaling has occurred).</dd>
</dl>
<dl class="docutils">
<dt><strong>-f</strong>[<strong>i</strong>|<strong>o</strong>]<em>colinfo</em> <a class="reference internal" href="gmt.html#f-full"><em>(more ...)</em></a></dt>
<dd>Specify data types of input and/or output columns.  </dd>
</dl>
<dl class="docutils">
<dt><strong>-o</strong><em>cols</em>[,...] <a class="reference internal" href="gmt.html#ocols-full"><em>(more ...)</em></a></dt>
<dd>Select output columns (0 is first column).</dd>
</dl>
<dl class="docutils">
<dt><strong>-^</strong> or just <strong>-</strong></dt>
<dd>Print a short message about the syntax of the command, then exits (NOTE: on Windows use just <strong>-</strong>).</dd>
<dt><strong>-+</strong> or just <strong>+</strong></dt>
<dd>Print an extensive usage (help) message, including the explanation of
any module-specific option (but not the GMT common options), then exits.</dd>
<dt><strong>-?</strong> or no arguments</dt>
<dd>Print a complete usage (help) message, including the explanation of
options, then exits.</dd>
<dt><strong>-</strong><strong>-version</strong></dt>
<dd>Print GMT version and exit.</dd>
<dt><strong>-</strong><strong>-show-datadir</strong></dt>
<dd>Print full path to GMT share directory and exit.</dd>
</dl>
</div>
<div class="section" id="grid-file-formats">
<h2>Grid File Formats<a class="headerlink" href="#grid-file-formats" title="Permalink to this headline">¶</a></h2>
<p>By default GMT writes out grid as single precision floats in a
COARDS-complaint netCDF file format. However, GMT is able to produce
grid files in many other commonly used grid file formats and also
facilitates so called &#8220;packing&#8221; of grids, writing out floating point
data as 1- or 2-byte integers. To specify the precision, scale and
offset, the user should add the suffix
<strong>=</strong><em>id</em>[<strong>/</strong><em>scale</em><strong>/</strong><em>offset</em>[<strong>/</strong><em>nan</em>]], where
<em>id</em> is a two-letter identifier of the grid type and precision, and
<em>scale</em> and <em>offset</em> are optional scale factor and offset to be applied
to all grid values, and <em>nan</em> is the value used to indicate missing
data. When reading grids, the format is generally automatically
recognized. If not, the same suffix can be added to input grid file
names. See <a class="reference internal" href="grdreformat.html"><em>grdreformat</em></a> and Section
<a class="reference internal" href="GMT_Docs.html#grid-file-format"><em>Grid file format specifications</em></a>
of the GMT Technical Reference and Cookbook for more information.</p>
<p>When reading a netCDF file that contains multiple grids, GMT will
read, by default, the first 2-dimensional grid that can find in that
file. To coax GMT into reading another multi-dimensional variable in
the grid file, append <strong>?</strong><em>varname</em> to the file name, where <em>varname</em>
is the name of the variable. Note that you may need to escape the
special meaning of <strong>?</strong> in your shell program by putting a backslash in
front of it, or by placing the filename and suffix between quotes or
double quotes. The <strong>?</strong><em>varname</em> suffix can also be used for output
grids to specify a variable name different from the default: &#8220;z&#8221;. See
<a class="reference internal" href="grdreformat.html"><em>grdreformat</em></a> and Section <a class="reference internal" href="GMT_Docs.html#grid-file-format"><em>Grid file format specifications</em></a> of the GMT
Technical Reference and Cookbook for more information, particularly on
how to read splices of 3-, 4-, or 5-dimensional grids.</p>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<p>To determine the volume in km^3 under the surface hawaii_topo.nc (height in km), use</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre>gmt grdvolume hawaii_topo.nc -Sk
</pre></div>
</div>
</div></blockquote>
<p>To find the volume between the surface peaks.nc and the contour z = 250, use</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre>gmt grdvolume peaks.nc -Sk -C250
</pre></div>
</div>
</div></blockquote>
<p>To search for the contour, between 100 and 300 in steps of 10, that
maximizes the ratio of volume to surface area for the file peaks.nc, use</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre>gmt grdvolume peaks.nc -Sk -C100/300/10 -Th &gt; results.d
</pre></div>
</div>
</div></blockquote>
<p>To see the areas and volumes for all the contours in the previous example, use</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre>gmt grdvolume peaks.nc -Sk -C100/300/10 &gt; results.d
</pre></div>
</div>
</div></blockquote>
<p>To find the volume of water in a lake with its free surface at 0 and max depth of 300 meters, use</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre>gmt grdvolume lake.nc -Cr-300/0
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="notes">
<h2>Notes<a class="headerlink" href="#notes" title="Permalink to this headline">¶</a></h2>
<p><strong>grdvolume</strong> distinguishes between gridline and pixel-registered grids.
In both cases the area and volume are computed up to the grid
boundaries. That means that in the first case the grid cells on the
boundary only contribute half their area (and volume), whereas in the
second case all grid cells are fully used. The exception is when the
<strong>-C</strong> flag is used: since contours do not extend beyond the outermost
grid point, both grid types are treated the same. That means the outer
rim in pixel oriented grids is ignored when using the <strong>-C</strong> flag.</p>
</div>
<div class="section" id="see-also">
<h2>See Also<a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="gmt.html"><em>gmt</em></a>,
<a class="reference internal" href="grdfilter.html"><em>grdfilter</em></a>,
<a class="reference internal" href="grdmask.html"><em>grdmask</em></a>,
<a class="reference internal" href="grdmath.html"><em>grdmath</em></a></p>
</div>
<div class="section" id="references">
<h2>References<a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h2>
<p>Wessel, P., 1998, An empirical method for optimal robust
regional-residual separation of geophysical data, <em>Math. Geol.</em>, <strong>30</strong>(4), 391-408.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">grdvolume</a><ul>
<li><a class="reference internal" href="#synopsis">Synopsis</a></li>
<li><a class="reference internal" href="#description">Description</a></li>
<li><a class="reference internal" href="#required-arguments">Required Arguments</a></li>
<li><a class="reference internal" href="#optional-arguments">Optional Arguments</a></li>
<li><a class="reference internal" href="#grid-file-formats">Grid File Formats</a></li>
<li><a class="reference internal" href="#examples">Examples</a></li>
<li><a class="reference internal" href="#notes">Notes</a></li>
<li><a class="reference internal" href="#see-also">See Also</a></li>
<li><a class="reference internal" href="#references">References</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="grdview.html"
                        title="previous chapter">grdview</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="I.html"
                        title="next chapter">I</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/grdvolume.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="I.html" title="I"
             >next</a> </li>
        <li class="right" >
          <a href="grdview.html" title="grdview"
             >previous</a> </li>
  <li><a href="/projects/gmt/wiki/Documentation">Project Home</a>  &raquo;</li>
  
        <li><a href="index.html">GMT 5.1.2 documentation</a> &raquo;</li>

          <li><a href="GR.html" >GR</a> &raquo;</li>
<li class="right">
<form class="search" accept-charset="UTF-8" action="search.html" method="get">
  <div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="✓"></div>
  <label for="q">
    <a class="search" href="search.html" accesskey="s" original-title="">Search:</a>
  </label>
  <input accesskey="f" class="small" id="q" name="q" size="20" type="text">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form></li>
   

      </ul>
    </div>
<div class="footer">
    &copy; Copyright 2015, P. Wessel, W. H. F. Smith, R. Scharroo, J. Luis, and F. Wobbe.
  Last updated on May 04, 2015.
  Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2.3.
  <br />Theme based on <a href="http://readthedocs.org/">Read The Docs</a>

</div>


  </body>
</html>