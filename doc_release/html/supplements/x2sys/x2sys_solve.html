<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    

    <title>x2sys_solve &mdash; GMT 5.1.2 documentation</title>

<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>


    
    <link rel="stylesheet" href="../../_static/rtd.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '5.1.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../../_static/searchtools.js"></script>
    <script type="text/javascript" src="../../../../_static/rtd-sidebar.js"></script>
    <link rel="top" title="GMT 5.1.2 documentation" href="../../index.html" />
    <link rel="up" title="X2SYS" href="../../SUP_X2SYS.html" />
    <link rel="next" title="The GMT historical collection" href="../../Gallery.html" />
    <link rel="prev" title="x2sys_report" href="x2sys_report.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../Gallery.html" title="The GMT historical collection"
             accesskey="N">next</a> </li>
        <li class="right" >
          <a href="x2sys_report.html" title="x2sys_report"
             accesskey="P">previous</a> </li>
  <li><a href="/projects/gmt/wiki/Documentation">Project Home</a>  &raquo;</li>
  
        <li><a href="../../index.html">GMT 5.1.2 documentation</a> &raquo;</li>

          <li><a href="../../SUP_X2SYS.html" accesskey="U">X2SYS</a> &raquo;</li>
<li class="right">
<form class="search" accept-charset="UTF-8" action="search.html" method="get">
  <div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="✓"></div>
  <label for="q">
    <a class="search" href="search.html" accesskey="s" original-title="">Search:</a>
  </label>
  <input accesskey="f" class="small" id="q" name="q" size="20" type="text">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form></li>
   

      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="x2sys-solve">
<span id="index-0"></span><h1>x2sys_solve<a class="headerlink" href="#x2sys-solve" title="Permalink to this headline">¶</a></h1>
<p>x2sys_solve - Determine least-squares systematic correction from crossovers</p>
<div class="section" id="synopsis">
<h2>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h2>
<p><strong>x2sys_solve</strong> <strong>-C</strong><em>column</em> <strong>-T</strong><em>TAG</em> <strong>-E</strong><em>mode</em>
[ <em>COE_list.d</em> ]
[ <strong>-V</strong>[<em>level</em>] ]
[ <strong>-W[u]</strong> ]
[ <strong>-bi</strong>[<em>ncols</em>][<em>type</em>][w][<strong>+L</strong>|<strong>+B</strong>] ]</p>
<p><strong>Note:</strong> No space is allowed between the option flag and the associated arguments.</p>
</div>
<div class="section" id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p><strong>x2sys_solve</strong> will use the supplied crossover information to solve
for systematic corrections that can then be applied per track to improve
data quality. Several systematic corrections can be solved for using a
least-squares approach. Note: Only one data column can be processed at
the time.</p>
</div>
<div class="section" id="required-arguments">
<h2>Required Arguments<a class="headerlink" href="#required-arguments" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt><em>COE_list.d</em></dt>
<dd>Name of file with the required crossover columns as produced by
<strong>x2sys_list</strong>. NOTE: If <strong>-bi</strong> is used
then the first two columns are expected to hold the integer track
IDs; otherwise we expect those columns to hold the text string names
of the two tracks. If no file is given we will read from <em>stdin</em>.</dd>
</dl>
<dl class="docutils">
<dt><strong>-T</strong><em>TAG</em></dt>
<dd>Specify the x2sys <em>TAG</em> which tracks the attributes of this data type.</dd>
<dt><strong>-C</strong><em>column</em></dt>
<dd>Specify which data column you want to process. Needed for proper
formatting of the output correction table and must match the same
option used in <strong>x2sys_list</strong> when preparing the input data.</dd>
<dt><strong>-E</strong><em>mode</em></dt>
<dd><p class="first">The correction type you wish to model. Choose among the following
functions f(<em>p</em>) , where <em>p</em> are the <em>m</em>
parameters per track that we will fit simultaneously using a least
squares approach:</p>
<p><strong>c</strong> will fit f(<em>p</em>) = <em>a</em> (a constant offset);
records must contain cruise ID1, ID2, COE.</p>
<p><strong>d</strong> will fit f(<em>p</em>) = <em>a</em> + <em>b</em> * <em>d</em> (linear
drift; <em>d</em> is distance; records must contain cruise ID1, ID2, d1,
d2, COE.</p>
<p><strong>g</strong> will fit f(<em>p</em>) = <em>a</em> + <em>b</em> sin(y)^2
(1980-1930 gravity correction); records must contain cruise ID1,
ID2, latitude y, COE.</p>
<p><strong>h</strong> will fit f(<em>p</em>) = <em>a</em> + <em>b</em> cos(H) + <em>c</em>
cos(2H) + <em>d</em> sin(H) + <em>e</em> sin(2H)
(magnetic heading correction); records must contain cruise ID1, ID2,
heading H, COE.</p>
<p><strong>s</strong> will fit f(<em>p</em>) = <em>a</em> * z (a unit scale
correction); records must contain cruise ID1, ID2, z1, z2.</p>
<p class="last"><strong>t</strong> will fit f(<em>p</em>) = <em>a</em> + <em>b</em> * (<em>t - t0</em>)
(linear drift; <em>t0</em> is the start time of the track); records must
contain cruise ID1, ID2, t1-t0, t2-t0, COE.</p>
</dd>
</dl>
</div>
<div class="section" id="optional-arguments">
<h2>Optional Arguments<a class="headerlink" href="#optional-arguments" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt><strong>-V</strong>[<em>level</em>] <a class="reference internal" href="../../gmt.html#v-full"><em>(more ...)</em></a></dt>
<dd>Select verbosity level [c].  </dd>
<dt><strong>-W</strong></dt>
<dd>Means that each input records has an extra column with the composite
weight for each crossover record. These are used to obtain a
weighted least squares solution [no weights]. Append <strong>u</strong> to report
unweighted mean/std [Default, report weighted stats].</dd>
</dl>
<dl class="docutils">
<dt><strong>-bi</strong>[<em>ncols</em>][<em>type</em>] <a class="reference internal" href="../../gmt.html#bi-full"><em>(more ...)</em></a></dt>
<dd>Select binary input.  </dd>
</dl>
<dl class="docutils">
<dt><strong>-^</strong> or just <strong>-</strong></dt>
<dd>Print a short message about the syntax of the command, then exits (NOTE: on Windows use just <strong>-</strong>).</dd>
<dt><strong>-+</strong> or just <strong>+</strong></dt>
<dd>Print an extensive usage (help) message, including the explanation of
any module-specific option (but not the GMT common options), then exits.</dd>
<dt><strong>-?</strong> or no arguments</dt>
<dd>Print a complete usage (help) message, including the explanation of
options, then exits.</dd>
<dt><strong>-</strong><strong>-version</strong></dt>
<dd>Print GMT version and exit.</dd>
<dt><strong>-</strong><strong>-show-datadir</strong></dt>
<dd>Print full path to GMT share directory and exit.</dd>
</dl>
</div>
<div class="section" id="notes">
<h2>Notes<a class="headerlink" href="#notes" title="Permalink to this headline">¶</a></h2>
<p>Most of the model corrections in <strong>-E</strong> involve a constant offset.
Because crossovers are differences between values, any absolute level
will cancel out and hence the constant offsets we obtain are relative
to an undetermined absolute level.  To obtain a solvable solution we
add the constraint that the sum of all constant offsets equal zero.
If the tracks form clusters in which no tracks from one cluster cross
any track from another cluster then these are two independent data
sets and require they own constraint equation for their offsets.  We
determine the number of clusters and automatically add the required
constraint equations.  If you need a particular reference track to have
a particular offset (e.g., 0) then you can subtract the offset you
found from every track correction and add in the desired offset.</p>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<p>To fit a simple bias offset to faa for all tracks under the MGD77 tag, try</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre>gmt x2sys_list COE_data.txt -V -TMGD77 -Cfaa -Fnc &gt; faa_coe.txt
gmt x2sys_solve faa_coe.txt -V -TMGD77 -Cfaa -Ec &gt; coe_table.txt
</pre></div>
</div>
</div></blockquote>
<p>To fit a faa linear drift with time instead, try</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre>gmt x2sys_list COE_data.txt -V -TMGD77 -Cfaa -FnTc &gt; faa_coe.txt
gmt x2sys_solve faa_coe.txt -V -TMGD77 -Cfaa -Et &gt; coe_table.txt
</pre></div>
</div>
</div></blockquote>
<p>To estimate heading corrections based on magnetic crossovers associated
with the tag MGD77 from the file COE_data.txt, try</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre>gmt x2sys_list COE_data.txt -V -TMGD77 -Cmag -Fnhc &gt; mag_coe.txt
gmt x2sys_solve mag_coe.txt -V -TMGD77 -Cmag -Eh &gt; coe_table.txt
</pre></div>
</div>
</div></blockquote>
<p>To estimate unit scale corrections based on bathymetry crossovers, try</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre>gmt x2sys_list COE_data.txt -V -TMGD77 -Cdepth -Fnz &gt; depth_coe.txt
gmt x2sys_solve depth_coe.txt -V -TMGD77 -Cdepth -Es &gt; coe_table.txt
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="see-also">
<h2>See Also<a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="x2sys_binlist.html"><em>x2sys_binlist</em></a>,
<a class="reference internal" href="x2sys_cross.html"><em>x2sys_cross</em></a>,
<a class="reference internal" href="x2sys_datalist.html"><em>x2sys_datalist</em></a>,
<a class="reference internal" href="x2sys_get.html"><em>x2sys_get</em></a>,
<a class="reference internal" href="x2sys_init.html"><em>x2sys_init</em></a>,
<a class="reference internal" href="x2sys_list.html"><em>x2sys_list</em></a>,
<a class="reference internal" href="x2sys_put.html"><em>x2sys_put</em></a>,
<a class="reference internal" href="x2sys_report.html"><em>x2sys_report</em></a></p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">x2sys_solve</a><ul>
<li><a class="reference internal" href="#synopsis">Synopsis</a></li>
<li><a class="reference internal" href="#description">Description</a></li>
<li><a class="reference internal" href="#required-arguments">Required Arguments</a></li>
<li><a class="reference internal" href="#optional-arguments">Optional Arguments</a></li>
<li><a class="reference internal" href="#notes">Notes</a></li>
<li><a class="reference internal" href="#examples">Examples</a></li>
<li><a class="reference internal" href="#see-also">See Also</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="x2sys_report.html"
                        title="previous chapter">x2sys_report</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../../Gallery.html"
                        title="next chapter">The GMT historical collection</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../_sources/supplements/x2sys/x2sys_solve.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../Gallery.html" title="The GMT historical collection"
             >next</a> </li>
        <li class="right" >
          <a href="x2sys_report.html" title="x2sys_report"
             >previous</a> </li>
  <li><a href="/projects/gmt/wiki/Documentation">Project Home</a>  &raquo;</li>
  
        <li><a href="../../index.html">GMT 5.1.2 documentation</a> &raquo;</li>

          <li><a href="../../SUP_X2SYS.html" >X2SYS</a> &raquo;</li>
<li class="right">
<form class="search" accept-charset="UTF-8" action="search.html" method="get">
  <div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="✓"></div>
  <label for="q">
    <a class="search" href="search.html" accesskey="s" original-title="">Search:</a>
  </label>
  <input accesskey="f" class="small" id="q" name="q" size="20" type="text">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form></li>
   

      </ul>
    </div>
<div class="footer">
    &copy; Copyright 2015, P. Wessel, W. H. F. Smith, R. Scharroo, J. Luis, and F. Wobbe.
  Last updated on May 04, 2015.
  Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2.3.
  <br />Theme based on <a href="http://readthedocs.org/">Read The Docs</a>

</div>


  </body>
</html>