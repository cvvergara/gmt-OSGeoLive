
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    

    <title>grdrotater &mdash; GMT 5.1.0 documentation</title>

<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>


    
    <link rel="stylesheet" href="../../_static/rtd.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '5.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../../_static/searchtools.js"></script>
    <script type="text/javascript" src="../../../../_static/rtd-sidebar.js"></script>
    <link rel="top" title="GMT 5.1.0 documentation" href="../../index.html" />
    <link rel="up" title="SPOTTER" href="../../SUP_SPOTTER.html" />
    <link rel="next" title="grdspotter" href="grdspotter.html" />
    <link rel="prev" title="grdpmodeler" href="grdpmodeler.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="grdspotter.html" title="grdspotter"
             accesskey="N">next</a> </li>
        <li class="right" >
          <a href="grdpmodeler.html" title="grdpmodeler"
             accesskey="P">previous</a> </li>
  <li><a href="/projects/gmt/wiki/Documentation">Project Home</a>  &raquo;</li>
  
        <li><a href="../../index.html">GMT 5.1.0 documentation</a> &raquo;</li>

          <li><a href="../../SUP_SPOTTER.html" accesskey="U">SPOTTER</a> &raquo;</li>
<li class="right">
<form class="search" accept-charset="UTF-8" action="search.html" method="get">
  <div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="✓"></div>
  <label for="q">
    <a class="search" href="search.html" accesskey="s" original-title="">Search:</a>
  </label>
  <input accesskey="f" class="small" id="q" name="q" size="20" type="text">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form></li>
   

      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="grdrotater">
<span id="index-0"></span><h1>grdrotater<a class="headerlink" href="#grdrotater" title="Permalink to this headline">¶</a></h1>
<p>grdrotater - Finite rotation reconstruction of geographic grid</p>
<div class="section" id="synopsis">
<h2>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h2>
<p><strong>grdrotate</strong> <em>ingrdfile</em> <strong>-E</strong><em>rotfile</em> |
<strong>-e</strong><em>lon</em>/<em>lat</em>/<em>angle</em> <strong>-G</strong><em>outgrdfile</em> [ <strong>-F</strong><em>polygonfile</em> ]
[ <strong>-N</strong> ]
[ <strong>-R</strong>[<em>unit</em>]<em>xmin</em>/<em>xmax</em>/<em>ymin</em>/<em>ymax</em>[<strong>r</strong>] ]
[ <strong>-S</strong> ] [ <strong>-T</strong><em>age</em> ]
[ <strong>-V</strong>[<em>level</em>] ]
[ <strong>-b</strong>[<strong>i</strong>|<strong>o</strong>][<em>ncol</em>][<strong>type</strong>][w][<strong>+L</strong>|<strong>+B</strong>] ]
[ <strong>-h</strong>[<strong>i</strong>|<strong>o</strong>][<em>n</em>][<strong>+c</strong>][<strong>+d</strong>][<strong>+r</strong><em>remark</em>][<strong>+r</strong><em>title</em>] ]
[ <strong>-i</strong><em>cols</em>[<strong>l</strong>][<strong>s</strong><em>scale</em>][<strong>o</strong><em>offset</em>][,...] ]
[ <strong>-n</strong>[<strong>b</strong>|<strong>c</strong>|<strong>l</strong>|<strong>n</strong>][<strong>+a</strong>][<strong>+b</strong><em>BC</em>][<strong>+t</strong><em>threshold</em>] ]
[ <strong>-:</strong>[<strong>i</strong>|<strong>o</strong>] ]</p>
<p><strong>Note:</strong> No space is allowed between the option flag and the associated arguments.</p>
</div>
<div class="section" id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p><strong>grdrotater</strong> reads a geographical grid and reconstructs it given a
total reconstruction rotation. Optionally, the user may supply a
clipping polygon in multiple-segment format; then, only the part of the
grid inside the polygon is used to determine the return grid region. The
outline of the projected region is returned on stdout provided the
rotated region is not the entire globe.</p>
</div>
<div class="section" id="required-arguments">
<h2>Required Arguments<a class="headerlink" href="#required-arguments" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt><em>ingrdfile</em></dt>
<dd>Name of a grid file in geographical (lon, lat) coordinates.</dd>
<dt><strong>-E</strong><em>rotfile</em></dt>
<dd><p class="first">Give file with rotation parameters. This file must contain one
record for each rotation; each record must be of the following
format:</p>
<p><em>lon lat tstart [tstop] angle</em> [ <em>khat a b c d e f g df</em> ]</p>
<p class="last">where <em>tstart</em> and <em>tstop</em> are in Myr and <em>lon lat angle</em> are in
degrees. <em>tstart</em> and <em>tstop</em> are the ages of the old and young ends
of a stage. If <em>tstop</em> is not present in the record then a total
reconstruction rotation is expected and <em>tstop</em> is implicitly set to
0 and should not be specified for any of the records in the file. If
a covariance matrix <strong>C</strong> for the rotation is available it must be
specified in a format using the nine optional terms listed in
brackets. Here, <strong>C</strong> = (<em>g</em>/<em>khat</em>)*[ <em>a b d; b c e; d e f</em> ]
which shows <strong>C</strong> made up of three row vectors. If the degrees of
freedom (<em>df</em>) in fitting the rotation is 0 or not given it is set
to 10000. Blank lines and records whose first column contains # will
be ignored. You may prepend a leading + to the filename to indicate
you wish to invert the rotations.
Alternatively, give the filename composed of two plate IDs
separated by a hyphen (e.g., PAC-MBL) and we will instead extract
that rotation from the GPlates rotation database. We return an error
if the rotation cannot be found.</p>
</dd>
<dt><strong>-e</strong><em>lon</em>/<em>lat</em>/<em>angle</em></dt>
<dd>Alternatively, specify the longitude, latitude, and opening angle
(all in degrees and separated by /) for a single total
reconstruction.</dd>
<dt><strong>-G</strong><em>outgrdfile</em></dt>
<dd>Name of output grid. This is the grid with the data reconstructed
according to the specified rotation.</dd>
</dl>
</div>
<div class="section" id="optional-arguments">
<h2>Optional Arguments<a class="headerlink" href="#optional-arguments" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt><strong>-F</strong><em>polygonfile</em></dt>
<dd>Specify a multisegment closed polygon file that describes the inside
area of the grid that should be projected [Default projects entire
grid].</dd>
<dt><strong>-N</strong></dt>
<dd>Do Not output the rotated polygon outline [Default will write it to stdout].</dd>
</dl>
<dl class="docutils">
<dt><strong>-R</strong><em>west</em>/<em>east</em>/<em>south</em>/<em>north</em>[/<em>zmin</em>/<em>zmax</em>][<strong>r</strong>]</dt>
<dd><em>west</em>, <em>east</em>, <em>south</em>, and <em>north</em> specify the region of interest,
and you may specify them in decimal degrees or in
[+-]dd:mm[:ss.xxx][W|E|S|N] format. Append <strong>r</strong> if lower left
and upper right map coordinates are given instead of w/e/s/n. The
two shorthands <strong>-Rg</strong> and <strong>-Rd</strong> stand for global domain (0/360
and -180/+180 in longitude respectively, with -90/+90 in latitude).
Alternatively, specify the name of an existing grid file and the
<strong>-R</strong> settings (and grid spacing, if applicable) are copied from
the grid. Using <strong>-R</strong><em>unit</em> expects projected (Cartesian)
coordinates compatible with chosen <strong>-J</strong> and we inversely project
to determine actual rectangular geographic region.
For perspective view (<strong>-p</strong>), optionally append /<em>zmin</em>/<em>zmax</em>.
In case of perspective view (<strong>-p</strong>), a z-range (<em>zmin</em>, <em>zmax</em>)
can be appended to indicate the third dimension. This needs to be
done only when using the <strong>-Jz</strong> option, not when using only the
<strong>-p</strong> option. In the latter case a perspective view of the plane is
plotted, with no third dimension.  </dd>
<dt><strong>-S</strong></dt>
<dd>Skip the rotation of the grid, just rotate the polygon outline
(requires <strong>-F</strong>).</dd>
<dt><strong>-T</strong><em>age</em></dt>
<dd>Sets the desired age of reconstruction when <strong>-E</strong> is given.</dd>
</dl>
<dl class="docutils">
<dt><strong>-V</strong>[<em>level</em>] <a class="reference internal" href="../../gmt.html#v-full"><em>(more ...)</em></a></dt>
<dd>Select verbosity level [c].  </dd>
</dl>
<dl class="docutils">
<dt><strong>-bi</strong>[<em>ncols</em>][<em>type</em>] <a class="reference internal" href="../../gmt.html#bi-full"><em>(more ...)</em></a></dt>
<dd>Select binary input. [Default is 2 input columns].</dd>
</dl>
<dl class="docutils">
<dt><strong>-bo</strong>[<em>ncols</em>][<em>type</em>] <a class="reference internal" href="../mgd77/mgd77list.html#bo-full"><em>(more ...)</em></a></dt>
<dd>Select binary output. [Default is same as input].</dd>
</dl>
<dl class="docutils">
<dt><strong>-h</strong>[<strong>i</strong>|<strong>o</strong>][<em>n</em>][<strong>+c</strong>][<strong>+d</strong>][<strong>+r</strong><em>remark</em>][<strong>+r</strong><em>title</em>] <a class="reference internal" href="../../gmt.html#h-full"><em>(more ...)</em></a></dt>
<dd>Skip or produce header record(s).  </dd>
</dl>
<dl class="docutils">
<dt><strong>-:</strong>[<strong>i</strong>|<strong>o</strong>] <a class="reference internal" href="../../gmt.html#colon-full"><em>(more ...)</em></a></dt>
<dd>Swap 1st and 2nd column on input and/or output.</dd>
</dl>
<dl class="docutils">
<dt><strong>-i</strong><em>cols</em>[<strong>l</strong>][<strong>s</strong><em>scale</em>][<strong>o</strong><em>offset</em>][,<em>...</em>] <a class="reference internal" href="../../gmt.html#icols-full"><em>(more ...)</em></a></dt>
<dd>Select input columns.</dd>
</dl>
<dl class="docutils">
<dt><strong>-n</strong>[<strong>b</strong>|<strong>c</strong>|<strong>l</strong>|<strong>n</strong>][<strong>+a</strong>][<strong>+b</strong><em>BC</em>][<strong>+c</strong>][<strong>+t</strong><em>threshold</em>] <a class="reference internal" href="../../gmt.html#n-full"><em>(more ...)</em></a></dt>
<dd>Select interpolation mode for grids.</dd>
</dl>
<dl class="docutils">
<dt><strong>-^</strong></dt>
<dd>Print a short message about the syntax of the command, then exits. (NOTE: on Windows use just <strong>-</strong>)</dd>
<dt><strong>+</strong></dt>
<dd>Print an extensive usage (help) message, including the explanation of
any module-specific option (but not the GMT common options), then exits</dd>
<dt><strong>-?</strong></dt>
<dd>Print a complete usage (help) message, including the explanation of
options, then exits.</dd>
<dt><strong>-</strong><strong>-version</strong></dt>
<dd>Print GMT version and exit.</dd>
<dt><strong>-</strong><strong>-show-datadir</strong></dt>
<dd>Print full path to GMT share directory and exit.</dd>
</dl>
</div>
<div class="section" id="consequences-of-grid-resampling">
<h2>Consequences of grid resampling<a class="headerlink" href="#consequences-of-grid-resampling" title="Permalink to this headline">¶</a></h2>
<p>Resample or sampling of grids will use various algorithms (see <strong>-n</strong>) that may lead
to possible distortions or unexpected results in the resampled values.
One expected effect of resampling with splines is the tendency for the new
resampled values to slightly exceed the global min/max limits of the original
grid.  If this is unacceptable, you can impose clipping of the resampled values
values so they do not exceed the input min/max values by adding <strong>+c</strong> to
your <strong>-n</strong> option.</p>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<p>To rotate the data defined by grid topo.nc and the polygon outline
clip_path.d, using a total reconstruction rotation with pole at (135.5,
-33.0) and a rotation angle of 37.3 degrees and bicubic interpolation, try</p>
<blockquote>
<div><div class="highlight-python"><pre>gmt grdrotater topo.nc -e135.5/-33/37.3 -V -Fclip_path.d -Grot_topo.nc &gt; rot_clip_path.d</pre>
</div>
</div></blockquote>
<p>To rotate the entire grid faa.nc back to 32 Ma using the rotation file
<em>rotations.txt</em> and a bilinear interpolation, try</p>
<blockquote>
<div><div class="highlight-python"><pre>gmt grdrotater faa.nc -Erotations.txt -T32 -V -Grot_faa.nc -nl &gt; rot_faa_path.d</pre>
</div>
</div></blockquote>
<p>To just see how the outline of the grid large.nc will plot after the
same rotation, try</p>
<blockquote>
<div><div class="highlight-python"><pre>gmt grdrotater large.nc -Erotations.txt -T32 -V -S \| psxy -Rg -JH180/6i -B30 -W0.5p \| gv -</pre>
</div>
</div></blockquote>
<p>Let say you have rotated gridA.nc and gridB.nc, restricting each
rotation to nodes inside polygons polyA.d and polyB.d, respectively,
using rotation A = (123W,22S,16,4) and rotation B = (108W, 16S, -14.5),
yielding rotated grids rot_gridA.nc and rot_gridB.nc. To determine the
region of overlap between the rotated grids, we use grdmath:</p>
<blockquote>
<div><div class="highlight-python"><pre>gmt grdmath 1 rot_gridA.nc ISNAN SUB 1 rot_gridB.nc ISNAN SUB 2 EQ = overlap.nc</pre>
</div>
</div></blockquote>
<p>The grid overlap.nc now has 1s in the regions of overlap and 0
elsewhere. You can use it as a mask or use grdcontour <strong>-D</strong> to extract
a polygon (contour).</p>
</div>
<div class="section" id="see-also">
<h2>See Also<a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="backtracker.html"><em>backtracker</em></a>,
<a class="reference internal" href="grdspotter.html"><em>grdspotter</em></a>,
<a class="reference internal" href="hotspotter.html"><em>hotspotter</em></a>,
<a class="reference internal" href="originator.html"><em>originator</em></a>,
<a class="reference internal" href="rotconverter.html"><em>rotconverter</em></a></p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">grdrotater</a><ul>
<li><a class="reference internal" href="#synopsis">Synopsis</a></li>
<li><a class="reference internal" href="#description">Description</a></li>
<li><a class="reference internal" href="#required-arguments">Required Arguments</a></li>
<li><a class="reference internal" href="#optional-arguments">Optional Arguments</a></li>
<li><a class="reference internal" href="#consequences-of-grid-resampling">Consequences of grid resampling</a></li>
<li><a class="reference internal" href="#examples">Examples</a></li>
<li><a class="reference internal" href="#see-also">See Also</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="grdpmodeler.html"
                        title="previous chapter">grdpmodeler</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="grdspotter.html"
                        title="next chapter">grdspotter</a></p>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="grdspotter.html" title="grdspotter"
             >next</a> </li>
        <li class="right" >
          <a href="grdpmodeler.html" title="grdpmodeler"
             >previous</a> </li>
  <li><a href="/projects/gmt/wiki/Documentation">Project Home</a>  &raquo;</li>
  
        <li><a href="../../index.html">GMT 5.1.0 documentation</a> &raquo;</li>

          <li><a href="../../SUP_SPOTTER.html" >SPOTTER</a> &raquo;</li>
<li class="right">
<form class="search" accept-charset="UTF-8" action="search.html" method="get">
  <div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="✓"></div>
  <label for="q">
    <a class="search" href="search.html" accesskey="s" original-title="">Search:</a>
  </label>
  <input accesskey="f" class="small" id="q" name="q" size="20" type="text">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form></li>
   

      </ul>
    </div>
<div class="footer">
    &copy; Copyright 2013, P. Wessel, W. H. F. Smith, R. Scharroo, J. Luis, and F. Wobbe.
  Last updated on Nov 05, 2013.
  Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
  <br />Theme based on <a href="http://readthedocs.org/">Read The Docs</a>

</div>


  </body>
</html>